# Brave Search集成需求

## 简介
此功能将现有的DuckDuckGo搜索功能替换为Brave Search API集成。新实现将通过Brave的API提供Web搜索功能，并通过应用程序现有的配置系统（Config.json和Env.cs）进行配置。此更改增强了搜索可靠性，并为Telegram机器人的搜索功能提供了更好的结构化结果。

## 需求

1. **作为** 系统管理员，**我希望** 通过现有配置文件配置Brave Search API，**以便** 我可以轻松管理API凭据而无需更改代码。

   1.1. 系统应从Config.json文件读取Brave Search API密钥
   1.2. 系统应支持通过Env.cs配置的环境变量覆盖API密钥
   1.3. 系统应在启动时验证API密钥配置
   1.4. 系统应为缺失或无效的API配置提供清晰的错误消息

2. **作为** Telegram机器人用户，**我希望** 使用Brave Search进行Web搜索，**以便** 我可以在聊天界面中获得相关的搜索结果。

   2.1. 系统应将搜索查询发送到Brave Search API端点
   2.2. 系统应处理API响应并解析JSON结果
   2.3. 系统应格式化搜索结果以供Telegram消息显示
   2.4. 系统应优雅地处理API错误并提供用户友好的消息

3. **作为** 开发者，**我希望** 完全移除DuckDuckGo依赖，**以便** 代码库中没有冲突或自动反射。

   3.1. 系统应删除所有与DuckDuckGo相关的代码文件和引用
   3.2. 系统应将DuckDuckGo服务实现替换为Brave Search实现
   3.3. 系统应确保项目依赖中没有残留的DuckDuckGo库
   3.4. 系统应更新所有从DuckDuckGo到Brave Search的引用

4. **作为** 系统维护者，**我希望** 可靠的搜索功能和适当的错误处理，**以便** 用户拥有一致的体验。

   4.1. 系统应为瞬时API故障实现重试逻辑
   4.2. 系统应强制执行请求超时以防止挂起请求
   4.3. 系统应记录API交互以用于调试目的
   4.4. 系统应处理来自Brave Search API的速率限制响应

5. **作为** Telegram机器人用户，**我希望** 搜索结果以可读的格式呈现，**以便** 我可以快速找到相关信息。

   5.1. 系统应从Brave Search结果中提取标题、URL和描述
   5.2. 系统应限制每次搜索显示的结果数量（最多5个）
   5.3. 系统应格式化结果，使项目之间有清晰的分隔
   5.4. 系统应优雅地处理缺失或格式错误的结果数据