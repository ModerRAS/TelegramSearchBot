# Telegram Search Bot
用于搜索Telegram用户发送信息的机器人

## 发送消息的设计思路
要考虑rate limit， 所以最好有一个队列来处理这个问题， 以避免429之后消息发不出去的问题。

## DTO
### SearchOptions
使用原理：
用于向下一页传递搜索数据
传递数据：
1. 搜索原字符串（Search）
2. 单页大小（Take）
3. 开始位置（Skip）
4. 搜索的GroupId， 用于拼接字符串，从群聊搜索可以搜索当前群的，通过私聊搜索是搜索当前用户所在的所有群

## 搜索思路
分为两种状态， 私聊bot和在群里搜索。

私聊bot通过检查chatId就可以检查出来， 这个ChatId是正数， 然后进入私聊搜索状态
群里搜索ChatId是负数，然后进入群聊搜索状态

### 私聊搜索状态
1. 这时先检查发送消息是否含有`搜索 `
2. 然后获取用户的UserId
3. 从数据库中搜索出这个UserId对应的GroupId
4. 生成一个搜索按键阵列？

### Telegram API 限制
Rate Limit 是如果是Group那么一分钟内只能20次， 全局共享一秒钟30次的发送速度。

### Chat Id
私聊是ChatId大于0， 群聊是小于0

## User Bot 添加思路
几条命令，

/add 带国别手机号 二次验证密码
/set 带国别手机号 手机验证码

至此，登录成功，然后处理防重复登录，加一个logout功能，

User Bot 第一件事是获取用户Id，然后扫描所有的群组和私人会话，